import{addElementToModal,closeModals,displayModal,getFirstAncestorByClass,isPreCopyToEnable,waitForScroll}from'./modules/helpers.min.js';import{resizeFunctionsList,shortcutsKeys}from'./modules/const.min.js';document.addEventListener('DOMContentLoaded',function(){let e=[];document.addEventListener('keyup',function(b){const a=e.indexOf(b.key);a>-1&&e.splice(a,1)}),document.addEventListener('keydown',function(a){if(a.target===document.body){a.key!==e[e.length-1]&&e.push(a.key);for(const b in shortcutsKeys)shortcutsKeys[b].keys&&shortcutsKeys[b].keys.every((a,b)=>new Intl.Collator([],{usage:"search",sensitivity:"base"}).compare(a,e[b])===0)&&typeof window[shortcutsKeys[b].function]=='function'&&(a.preventDefault(),window[shortcutsKeys[b].function]())}}),document.addEventListener('click',function(a){a.target.classList.contains('modal-container')&&closeModals(a.target)});let f=document.getElementsByTagName('pre');for(let a=0;a<f.length;a++)if(isPreCopyToEnable(f[a])){let b=document.createElement('div'),c=document.createElement('i');if(b.setAttribute('class','copy-code is-action-button'),c.setAttribute('class','fa-solid fa-copy'),typeof codeCopyBefore!='undefined'&&typeof codeCopyAfter!='undefined'&&(b.setAttribute('title',codeCopyBefore),b.setAttribute('title-after',codeCopyAfter)),!getFirstAncestorByClass(f[a],'highlight')){let b=f[a],c=document.createElement('div');c.classList.add('highlight'),b.parentNode.replaceChild(c,b),c.appendChild(b)}f[a].appendChild(b),b.appendChild(c),b.addEventListener('click',function(c){const a=this.parentElement.getBoundingClientRect().width,b=this.getBoundingClientRect().width;this.style.maxWidth=a-b+'px',navigator.clipboard.writeText(this.previousElementSibling.textContent)})}let g=document.querySelectorAll('#content img');for(let a=0;a<g.length;a++)g[a].parentNode.tagName!=='A'&&(g[a].classList.toggle('is-modal',!0),g[a].addEventListener('click',function(b){let a=document.createElement('img');a.src=this.src,addElementToModal(a),displayModal()}));let c=document.getElementsByClassName('tabs-trigger');for(let a=0;a<c.length;a++)c[a].addEventListener('click',function(b){for(let a=0;a<c.length;a++)this===c[a]?c[a].classList.toggle('is-active',!0):c[a].classList.toggle('is-active',!1);let a=document.getElementsByClassName('tabs-results-list');for(let b=0;b<a.length;b++)this.id+'-results'===a[b].id?a[b].classList.toggle('is-active',!0):a[b].classList.toggle('is-active',!1)});function j(){const c=d.getBoundingClientRect().top;let b=m(c);for(let c=0;c<a.length;c++)c<b?l(a[c]):c===b?o(a[c]):k(a[c])}let m=function(c){let b=-1;for(let d=0;d<a.length;d++){const e=document.getElementById(a[d].getAttribute('href').substring(1)).getBoundingClientRect().top;Math.floor(e-c)<=0&&(b=d)}return b};function l(a){a.classList.toggle('is-past',!0),a.classList.toggle('is-current',!1)}function o(a){a.classList.toggle('is-past',!1),a.classList.toggle('is-current',!0)}function k(a){a.classList.toggle('is-past',!1),a.classList.toggle('is-current',!1)}let i=!1,b=!1,d=document.getElementById('contentContainer'),a=document.querySelectorAll('#TableOfContents a');for(let c=0;c<a.length;c++)a[c].addEventListener('click',function(a){b=!0,waitForScroll(d,100,100).then(a=>{if(a)j(),b=!1;else return Promise.reject("Cannot reach end of scroll")}).catch(a=>{console.error("Error managing click event for "+this+": "+a),b=!1})});function n(){d.scrollTop>0?h.classList.toggle('is-active',!0):h.classList.toggle('is-active',!1)}let h=document.getElementById('tocBackToTop');h&&h.addEventListener('click',function(a){d.scrollTop=0,b=!0,waitForScroll(d,100,100).then(a=>{if(a)j(),b=!1;else return Promise.reject("Cannot reach end of scroll")}).catch(a=>{console.error("Error managing click event for "+this+": "+a),b=!1})}),d.addEventListener('scroll',function(){i||(window.requestAnimationFrame(function(){b||j(),n(),i=!1}),i=!0)})});let scrollResize=!1;window.addEventListener('resize',function(){scrollResize||(window.requestAnimationFrame(function(){for(let a=0;a<resizeFunctionsList.length;a++)resizeFunctionsList[a]();scrollResize=!1}),scrollResize=!0)})